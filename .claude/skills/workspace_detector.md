---
name: workspace_detector
description: 自动判断任务类型并调用相应工作区的智能系统
author: Claude Code
version: 1.0.0
requires_backend: false
---

# 工作区智能判断系统

自动识别任务类型，调用对应的工作区规则和流程。

## 工作区列表

### 1. 公众号写作工作区
- **触发关键词**：公众号、文章、写作、内容创作
- **特点**：需要配图、SEO优化、传播性
- **流程**：9步写作流程
- **输出**：Markdown + 配图建议

### 2. 视频创作工作区
- **触发关键词**：视频、脚本、剪辑、短视频
- **特点**：分镜头脚本、节奏控制、视觉呈现
- **流程**：5步创作流程
- **输出**：视频脚本 + 分镜头

### 3. Prompt梳理工作区
- **触发关键词**：prompt、提示词、AI指令
- **特点**：结构化、可复用、优化迭代
- **流程**：4步优化流程
- **输出**：标准Prompt模板

### 4. 通用任务工作区
- **触发**：其他所有任务
- **特点**：灵活处理、按需定制
- **流程**：根据任务确定
- **输出**：按需输出

## 使用方法

### 自动模式（推荐）
```
[开始任务] [你的任务描述]
```

### 手动指定工作区
```
[公众号] 写一篇关于AI的文章
[视频] 制作一个产品介绍视频
[Prompt] 优化这个提示词
[通用] 帮我分析这个问题
```

## 判断逻辑示例

### 用户输入分析
```
用户："帮我写一篇关于Claude Code的公众号文章"

系统判断：
1. 关键词检测：公众号 → 写作工作区
2. 任务类型：文章创作
3. 平台：公众号
4. 自动调用：writing_workflow.md

响应：
[公众号] 开始写作流程
主题：Claude Code
类型：公众号
...
```

### 复杂任务判断
```
用户："做一个AI工具测评视频"

系统判断：
1. 关键词检测：视频 → 视频创作工作区
2. 内容类型：工具测评
3. 平台：视频（未指定，默认短视频）

响应：
[视频] 开始创作流程
主题：AI工具测评
形式：测评视频
时长：3-5分钟
...
```

## 工作区特性对比

| 特性 | 公众号 | 视频 | Prompt | 通用 |
|------|--------|------|--------|------|
| 需要配图 | ✅ | ❌ | ❌ | 按需 |
| SEO优化 | ✅ | ❌ | ❌ | ❌ |
| 字数限制 | ✅ | ❌ | ✅ | ❌ |
| 分镜头 | ❌ | ✅ | ❌ | ❌ |
| 结构化 | ✅ | ✅ | ✅ | 按需 |

## 特殊指令

### 强制切换工作区
```
[切换到视频] 把这篇文章改成视频脚本
[切换到Prompt] 总结成提示词模板
```

### 多工作区协作
```
[协作] 先写公众号文章，再改编成视频
```

## 实际使用示例

### 示例1：公众号文章
```
用户：写一篇关于远程办公的文章

系统自动识别：公众号写作工作区
[公众号] 开始写作流程
主题：远程办公
类型：公众号
...
```

### 示例2：视频脚本
```
用户：做一个3分钟的产品介绍视频

系统自动识别：视频创作工作区
[视频] 开始创作流程
主题：产品介绍
时长：3分钟
...
```

### 示例3：Prompt优化
```
用户：帮我优化这个提示词：写一个故事

系统自动识别：Prompt梳理工作区
[Prompt] 开始优化流程
原始提示词：写一个故事
...
```

## 工作区配置

每个工作区有自己的配置文件：
- `公众号工作区.md` - 写作规则、格式要求
- `视频工作区.md` - 脚本模板、时长控制
- `Prompt工作区.md` - 优化标准、结构规范

## 智能建议

当任务描述模糊时，系统会：
1. 询问确认工作区
2. 提供多个选项
3. 建议最佳方案

```
用户：帮我做内容

系统：请问需要什么类型的内容？
1. 公众号文章
2. 视频脚本
3. Prompt模板
4. 其他（请说明）
```